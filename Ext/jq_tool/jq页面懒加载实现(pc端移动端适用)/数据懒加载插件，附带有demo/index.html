<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <title>数据懒加载实例</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
        .main
        {
            width: 980px;
            margin: 0 auto;
        }
        .list
        {
            list-style: none;
            width: 980px;
        }
        .list .h2
        {
            font-size: 2em;
            text-align: center;
        }
        .list li
        {
            border: 1px solid #CCCCCC;
            padding: 15px;
        }
    </style>
</head>
<body>
    <div class='main'>
        <ul class='list'>
            <li class='h2'>Data Lazy Load Simple</li>
            <li>aaaa</li>
            <li>bbbb</li>
            <li>cccc</li>
            <li>dddd</li>
            <li>eeee</li>
            <li>ffff</li>
            <li>gggg</li>
            <li>hhhh</li>
            <li>iiii</li>
            <li>jjjj</li>
            <li>kkkk</li>
            <li>llll</li>
            <li>mmmm</li>
            <li>nnnn</li>
            <li>oooo</li>
            <li>pppp</li>
            <li>qqqq</li>
            <li>rrrr</li>
            <li>ssss</li>
            <li>tttt</li>
            <li>uuuu</li>
            <li>vvvv</li>
            <li>wwww</li>
            <li>xxxx</li>
            <li>yyyy</li>
            <li>zzzz</li>
        </ul>
    </div>
    <script type="text/javascript" src="jquery-1.9.1.js"></script>
    <script type="text/javascript" src="DataLazyLoad.js"></script>
    <script type="text/javascript" charset="utf-8">
        $(function () {
            //Call DataLazyLoad
            $(".list").DataLazyLoad({ load: function (page, unLocked) {
                var html = '';
                var max = 10;
                //Generate the data
                for (var i = 0; i < 10; i++) {
                    html += '<li>Page: ' + page + ', Data Index: ' + i + ' </li>';
                }
                $(html).appendTo('.list');
                //Check whether to end
                page = page >= max ? 0 : page + 1;
                //To prevent repeated load, The first parameter to the next page, No page is 0
                unLocked(page);
                if (page == 0) {
                    $("<li class = 'h2'>The End!</li>").appendTo('.list');
                }
            }
            });
        });
    </script>
    </body>
</html>
